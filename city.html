<script type="text/x-red" data-template-name="city">
  <div class="form-row">
    <label for="node-input-city"><i class="icon-tag"></i> <span data-i18n="city.city"></span></label>
    <input type="text" id="node-input-city" data-i18n="[value]city.value.city">
  </div>
  <div class="form-row">
    <label for="node-input-country"><i class="icon-tag"></i> <span data-i18n="city.country"></span></label>
    <input type="text" id="node-input-country"  data-i18n="[value]city.value.country">
  </div>
   <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> <span data-i18n="city.name"></span></label>
    <input type="text" id="node-input-name" data-i18n="[placeholder]city.name">
  </div>
</script>
<script type="text/x-red" data-help-name="city">
  <p>Creates and returns <code>msg.<b>city</b></code> property that contains
  the country, and the postal code or the city name you typed in this node</p>

  <p>Choose your country in the configuration panel or dynamically via
  <code>msg.<b>country</b></code> property. (Default France).</p>

  <p>Choose your city in the configuration panel or dynamically via
  <code>msg.<b>city</b></code>, <code>msg.<b>value</b></code>, or else
  <code>msg.<b>payload</b></code> property. (Default Paris).</p>
</script>
<script type="text/javascript">
  RED.nodes.registerType ( "city", {
    category: "basic",
    defaults: {
      city: { value: "Paris" },
      country: { value: "France"},
      name : {value: ""}
    },
    color: "#FFF",
    paletteLabel : "city",
    inputs: 1,
    outputs: 1,
    icon: "marker.png",
    label: function() {
      return this.name || this.city || "city";
    },
    labelStyle: function() {
      return this.name?"node_label_italic":"";
    }
  });
</script>
